---
version: '2.0'

metadata:
  # Version 接口版本
  apiVersion: '2016-05-13'
  endpointPrefix: gametest
  jsonVersion: '1.1'
  serviceFullName: KSC Game Service
  signatureVersion: v4
  targetPrefix: gametest
  # query/ec2/json/query-json/rest-json/rest-xml
  protocol: json

documentation: ''

operations:

  AddProject:
    name: AddProject
    http:
      method: POST
      requestUri: /
    input:
      shape: Project
    output:
      shape: Project

  DeleteProject:
    name: DeleteProject
    http:
      method: DELETE
      requestUri: /
    input:
      shape: Id
    output:
      shape: *

  EditProject:
    name: EditProject
    http:
      method: PUT
      requestUri: /
    input:
      shape: Project

  GetProjectInfo:
    name: GetProjectInfo
    http:
      method: GET
      requestUri: /
    input:
      shape: Id
    output:
      shape: Project

  GetProjectList:
    name: GetProjectList
    http:
      method: GET
      requestUri: /
    input:
      shape: Empty
      documentation: ""
    output:
      shape: Projects
      documentation: ""
    documentation: ""

shapes:

  InstanceId:
    type: string #list/map/structure
    min: 36
    max: 36

  Message:
    type: string

  Id:
    type: structure
    required:
    - id
    members:
      id:
        shape: InstanceId
        documentation: ""
    exception: true
    documentation: ""

  Empty:
    type: structure
    members: {}
    documentation: ""

  NonEmptyString:
    type: string
    min: 1

  Project:
    type: structure
    required:
    - name
    members:
      id:
        shape: InstanceId
        documentation: ""
      comment:
        shape: NonEmptyString
        documentation: ""
      name:
        shape: NonEmptyString
        documentation: ""

  Projects:
    type: list
    member:
      shape: Project

  Roles:
    type: list
    member:
      shape: Role

  Role:
    type: structure
    members:
      comment:
        shape: NonEmptyString
        documentation: ""
      name:
        shape: NonEmptyString
        documentation: ""

  Groups:
    type: list
    member:
      shape: Group

  Group:
    type: structure
    members:
      comment:
        shape: NonEmptyString
        documentation: ""
      name:
        shape: NonEmptyString
        documentation: ""
